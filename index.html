<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Crystal Game</title>
    <link href='https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB'
        crossorigin='anonymous'>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <h4 class="goal"></h4>
            </div>
            <div class="col-md-6">
                <h4 class="total"></h4>
            </div>
        </div>
        <div class="row crystalRow">

        </div>
    </div>
</body>
<script src='https://code.jquery.com/jquery-3.3.1.js' integrity='sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=' crossorigin='anonymous'></script>
<script>
    let total = 0
    let goal = Math.floor(Math.random() * 200)
    $('.goal').text(goal)

    for (let i = 0; i < 3; i++) {
        $('.crystalRow').append(`
        <div class="col-md-4">
        <img class="crystal" data-crystal=${Math.floor(Math.random() * 15 + 1)} src="./assets/images/crystal${i + 1}.png" alt="crystal${i}">
        </div>
        `)
    }

    $('.crystal').on('click', function () {
        let crystalValue = $(this).attr('data-crystal')
        total += parseInt(crystalValue)
        $('.total').text(total)
        gameStatus()

    })

    function gameStatus() {
        if (goal === total) {
            alert('You win!')
            reset()
        } else if (total > goal) {
            alert('You lose!')
            reset()
        }
    }

    function reset() {
        $('.crystal').attr('data-crystal', Math.floor(Math.random() * 15 + 1))
        total = 0
        $('.total').text(total)
        goal = Math.floor(Math.random() * 200)
        $('.goal').text(goal)
    }
</script>

<!-- 3:31:28 -->

</html>